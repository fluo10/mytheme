{% import "macros.html" as macros %}

<!DOCTYPE html>
<html lang={% if lang %}{{lang}}{% elif config.default_language %}{{config.default_language}}{% else %}"en"{% endif %}>

<head>

  <meta http-equiv="content-type" content="text/html; charset=utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">
  
  <title>{% block title %}{{config.title}}{%endblock title %}</title>
  <link rel="stylesheet" href="{{ get_url(path='test.css', trailing_slash=false)}}">
  <style>
    {% if config.extra.fonts.import %}
      {% for import in config.extra.fonts.import %}
        @import url('{{import | safe}}');
      {% endfor %}
    {% endif %}
    :root{
      --base-hue: {{config.extra.base_color.hue}};
      --base-saturation: {{config.extra.base_color.saturation}}; 
      --font-family: {{config.extra.fonts.main | safe}};
      --header-font-family: {{config.extra.fonts.sidebar | safe}};
      --title-font-family: {{config.extra.fonts.title | safe}};
    }
  </style>
</head>
<body>
<div class="site">
    {% block header %}
  <header class="sidebar">
    <h2 class="site-title"><a href={{macros::get_top_url(lang=lang)}}>{{config.title}}</a></h2>
    {% if config.description %}
    <p>{{config.description}}</p>
    {% endif %}
  </header>
  {% endblock header %}

  <main class="content">
  {% block content %} 
    
  {% endblock content%}
  </main>
  {% block nav %}
  <nav class="sidebar">
    <div id="sp-menu"class="hidden">
      {% if config.description %}
        <p class="description">{{ config.description }}</p>
      {% endif %}
      {% if config.extra.menues.categories %}
      <h3>{{ macros::get_extra_configure_by_lang(key="menues.categories.label", lang=lang) }}</h3> 
      <ul class="cat-links">
        {{ macros::term_list_items(taxonomy_name="categories", class="cat-link")}}
      </ul>
      {% endif%}
      {% if config.extra.menues.tags %}
      <h3>tags:</h3> 
      <ul class="tag-links">
        {{ macros::term_list_items(taxonomy_name="tags", class="tag-link")}}
      </ul>
      {% endif %}
    </div>
  </nav>
  {% endblock nav %}
  <footer class="sidebar">
    
    {% if config.languages %}
    <ul class="lang-links">
      {% for language in config.languages | map(attribute="code") | concat(with=config.default_language) | sort %}
        {% if lang == language %}
          <li class="selected">{{ language }}</li>
        {% else %}
          <li><a href="{{macros::get_top_url(lang=language)}}">{{ language }}</a></li>
        {% endif %}
      {% endfor %}
    </ul>
    {% endif %}
  </footer>
</body>

</html>
